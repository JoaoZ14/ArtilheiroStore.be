# Server
server.port=${PORT:8080}

# PostgreSQL (variáveis de ambiente: DATABASE_URL, DATABASE_USERNAME, DATABASE_PASSWORD)
spring.datasource.url=${DATABASE_URL}
spring.datasource.username=${DATABASE_USERNAME}
spring.datasource.password=${DATABASE_PASSWORD}
spring.datasource.driver-class-name=org.postgresql.Driver

# JPA / Hibernate (ddl-auto=update cria/atualiza tabelas a partir das entidades)
spring.jpa.database-platform=org.hibernate.dialect.PostgreSQLDialect
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=false

# Supabase Storage (bucket CamisaImages)
# URL do projeto (API REST), não o endpoint S3
supabase.url=https://azicudvsblhnvbmzblqn.supabase.co
supabase.service-role-key=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImF6aWN1ZHZzYmxobnZibXpibHFuIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc2OTc1NzIyNCwiZXhwIjoyMDg1MzMzMjI0fQ.l091XB3dkQxoEqhohe-3cwKW3Lqkfqi7oQ-NMcbc5Qg
supabase.storage.bucket=CamisaImages
# Limite de upload de imagens (ex.: 5MB por arquivo)
app.upload.max-file-size=5242880
app.upload.allowed-content-types=image/jpeg,image/png,image/webp

# Mercado Pago - usar variável de ambiente MERCADOPAGO_ACCESS_TOKEN em produção
mercadopago.access-token=${MERCADOPAGO_ACCESS_TOKEN:}
# Chave pública para o frontend (Checkout Transparente - tokenização no navegador)
mercadopago.public-key=${MERCADOPAGO_PUBLIC_KEY:}
# URL base do front (para back URLs do checkout). Ex.: https://seusite.com
app.base-url=${APP_BASE_URL:}
mercadopago.back-url.success=${app.base-url}/pagamento/sucesso
mercadopago.back-url.failure=${app.base-url}/pagamento/falha
mercadopago.back-url.pending=${app.base-url}/pagamento/pendente
# URL para o Mercado Pago enviar notificações de pagamento (webhook).
# Use MERCADOPAGO_NOTIFICATION_URL em produção com URL pública HTTPS (ex.: https://seu-backend.com/api/orders/webhook/mercadopago).
# Em localhost o MP não chama o webhook; use o endpoint GET /api/orders/{orderNumber}/sync-payment?paymentId=XXX no front (polling).
mercadopago.notification-url=${MERCADOPAGO_NOTIFICATION_URL:${app.base-url}/api/orders/webhook/mercadopago}
# Assinatura secreta do webhook (opcional). Se definida, valida x-signature nas notificações.
mercadopago.webhook-secret=${MERCADOPAGO_WEBHOOK_SECRET:}
